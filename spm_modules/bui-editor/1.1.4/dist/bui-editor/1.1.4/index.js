define("bui-editor/1.1.4/index",["bui-common/1.1.2/common","jquery","bui-form/1.1.1/index","bui-overlay/1.1.4/index","bui-list/1.1.2/index","bui-data/1.1.2/index"],function(e){var r=e("bui-common/1.1.2/common"),t=(e("bui-form/1.1.1/index"),r.namespace("Editor"));return r.mix(t,{Editor:e("bui-editor/1.1.4/src/editor"),RecordEditor:e("bui-editor/1.1.4/src/record"),DialogEditor:e("bui-editor/1.1.4/src/dialog")}),t}),define("bui-editor/1.1.4/src/editor",["bui-common/1.1.2/common","jquery","bui-overlay/1.1.4/index"],function(e,r,t){var i=e("bui-common/1.1.2/common"),n=e("bui-overlay/1.1.4/index").Overlay;CLS_TIPS="x-editor-tips",Mixin=e("bui-editor/1.1.4/src/mixin");var o=n.extend([Mixin],{bindUI:function(){{var e=this;e.getInnerControl()}e.on("validchange",function(){!e.isValid()&&e.get("visible")?e._showError(e.getErrors()):e._hideError()}),e.on("hide",function(){e._hideError()}),e.on("show",function(){e.isValid()||e._showError(e.getErrors())})},_initOverlay:function(){var e=this,r=e.get("tooltip"),t=new n(r);return t.render(),e.set("overlay",t),t},_getErrorList:function(){var e=this,r=e.get("overlay");return r&&r.get("children")[0]},_showError:function(e){var r=this,t=r.get("overlay")||r._initOverlay(),n=r._getErrorList(),o=r.get("errorAlign"),a=i.Array.map(e,function(e){return{error:e}});n.set("items",a),o.node=r.get("el"),t.set("align",o),t.show()},_hideError:function(){var e=this,r=e.get("overlay");r&&r.hide()},clearErrors:function(){var e=this,r=e.getInnerControl();r.clearErrors(),e._hideError()},getSourceValue:function(){var e=this,r=e.get("curTrigger"),t=e.get("parser"),i=r.text();return t&&(i=t.call(this,i,r)),i},updateSource:function(e){var r=this,t=r.get("curTrigger");t&&t.length&&(e=r._formatText(e),t.text(e))},_formatText:function(e){var r=this,t=r.get("formatter");return t&&(e=t.call(r,e)),e},_uiSetWidth:function(e){var r=this;if(null!=e){var t=r.getInnerControl();t.set&&t.set("width",e)}}},{ATTRS:{innerValueField:{value:"value"},emptyValue:{value:""},autoHide:{value:!0},controlCfgField:{value:"field"},defaultChildCfg:{value:{tpl:"",forceFit:!0,errorTpl:""}},tooltip:{valueFn:function(){return{children:[{xclass:"simple-list",itemTpl:'<li><span class="x-icon x-icon-mini x-icon-error" title="{error}">!</span>&nbsp;<span>{error}</span></li>'}],elCls:CLS_TIPS}}},defaultChildClass:{value:"form-field"},align:{value:{points:["tl","tl"]}},parser:{},formatter:{},errorAlign:{value:{points:["bl","tl"],offset:[0,10]}},overlay:{},field:{value:{}}}},{xclass:"editor"});t.exports=o}),define("bui-editor/1.1.4/src/mixin",["jquery"],function(e,r,t){function i(e){var r=e,t=r.get("controlCfgField"),i=r.get(t),n=r.addChild(i);r.setInternal(t,n)}var n=e("jquery"),o=function(){i(this)};o.ATTRS={acceptEvent:{value:"autohide"},preventHide:{value:!0},changeSourceEvent:{value:"show triggerchange"},ignoreInputFields:{value:!1},innerValueField:{},emptyValue:{},controlCfgField:{},focusable:{value:!0},autoUpdate:{value:!0},events:{value:{accept:!1,cancel:!1}}},o.prototype={__bindUI:function(){var e=this,r=e.get("acceptEvent"),t=e.get("changeSourceEvent");r&&e.on(r,function(){return e.accept()?void 0:e.get("preventHide")?!1:void e.cancel()}),t&&e.on(t,function(){e.setValue(e.getSourceValue()),e.get("visible")&&e.focus()})},getInnerControl:function(){var e=this,r=e.get("children");return r[0]},setValue:function(e,r){var t=this,i=t.getInnerControl();t.set("editValue",e),t.clearControlValue(),i.set(t.get("innerValueField"),e),e||t.valid(),r&&t.clearErrors()},getValue:function(){var e=this,r=e.getInnerControl();return r.get(e.get("innerValueField"))},isValid:function(){var e=this,r=e.getInnerControl();return r.isValid?r.isValid():!0},valid:function(){var e=this,r=e.getInnerControl();r.valid&&r.valid()},getErrors:function(){var e=this,r=e.getInnerControl();return r.getErrors?r.getErrors():[]},isChange:function(){var e=this,r=e.get("editValue"),t=e.getValue();return r!==t},clearValue:function(){this.clearControlValue(),this.clearErrors()},clearControlValue:function(){var e=this,r=e.getInnerControl();r.set(e.get("innerValueField"),e.get("emptyValue"))},clearErrors:function(){var e=this,r=e.getInnerControl();r.clearErrors()},getSourceValue:function(){},updateSource:function(){},handleNavEsc:function(){this.cancel()},handleNavEnter:function(e){var r=e.target;"TEXTAREA"!==r.tagName&&("BUTTON"===r.tagName&&n(r).trigger("click"),this.accept())},focus:function(){var e=this,r=e.getInnerControl();r.focus&&r.focus()},accept:function(){var e,r=this;return r.valid(),r.isValid()?(e=r.getValue(),r.get("autoUpdate")&&r.updateSource(e),0!=r.fire("beforeaccept",{value:e})?(r.fire("accept",{value:e,editValue:r.get("editValue")}),r.hide(),!0):void 0):!1},cancel:function(){this.fire("cancel"),this.clearValue(),this.close()}},t.exports=o}),define("bui-editor/1.1.4/src/record",["bui-common/1.1.2/common","jquery","bui-overlay/1.1.4/index"],function(e,r,t){var i=e("bui-common/1.1.2/common"),n=e("bui-editor/1.1.4/src/editor"),o=n.extend({getSourceValue:function(){return this.get("record")},updateSource:function(e){var r=this,t=r.get("record");i.mix(t,e)},_uiSetRecord:function(e){this.setValue(e)}},{ATTRS:{innerValueField:{value:"record"},acceptEvent:{value:""},emptyValue:{value:{}},autoHide:{value:!1},record:{value:{}},controlCfgField:{value:"form"},form:{value:{}},errorAlign:{value:{points:["tr","tl"],offset:[10,0]}},defaultChildCfg:{valueFn:function(){var e=this;return{xclass:"form",errorTpl:"",showError:!0,showChildError:!0,defaultChildCfg:{elCls:"bui-inline-block",tpl:"",forceFit:!0},buttons:[{btnCls:"button button-primary",text:"\u786e\u5b9a",handler:function(){e.accept()}},{btnCls:"button",text:"\u53d6\u6d88",handler:function(){e.cancel()}}]}}}}},{xclass:"record-editor"});t.exports=o}),define("bui-editor/1.1.4/src/dialog",["jquery","bui-overlay/1.1.4/index","bui-common/1.1.2/common"],function(e,r,t){var i=e("jquery"),n=e("bui-overlay/1.1.4/index").Dialog,o=e("bui-editor/1.1.4/src/mixin"),a=n.extend([o],{getSourceValue:function(){return this.get("record")},handleNavEnter:function(e){var r=this,t=r.get("success"),n=e.target;"TEXTAREA"!==n.tagName&&("BUTTON"===n.tagName&&i(n).trigger("click"),t?t.call(r):this.accept())},cancel:function(){this.fire("cancel"),this.clearValue(),this.close()},updateSource:function(e){var r=this,t=r.get("record");BUI.mix(t,e)},_uiSetRecord:function(e){this.setValue(e)}},{ATTRS:{innerValueField:{value:"record"},acceptEvent:{value:""},record:{value:{}},emptyValue:{shared:!1,value:{}},controlCfgField:{value:"form"},changeSourceEvent:{value:""},defaultChildCfg:{value:{xclass:"form-horizontal"}},focusable:{value:!1},success:{value:function(){this.accept()}},cancel:{value:function(){this.cancel()}},form:{value:{}}}},{xclass:"dialog-editor"});t.exports=a});